<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Moodies</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#2a0151;
      --bg-2:#420a78;
      --text:#f6b1cf;
      --dot-1:#f4a5c9;
      --dot-2:#e48eb9;
      --dot-3:#c47aa6;
      --tap:48px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      background: radial-gradient(1200px 700px at 50% 0%, var(--bg-2), var(--bg));
      font-family:'Comfortaa',system-ui,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      display:grid;place-items:center;
      padding: 1rem;
      position: relative; /* needed for corner stars */
      overflow:hidden;    /* keep stars within viewport */
    }
    /* Pink star clusters only in the corners */
    body::before, body::after{
      content:"";
      position:absolute;
      width:160px; height:160px;
      background-image:
        radial-gradient(var(--dot-1) 2px, transparent 2px),
        radial-gradient(var(--dot-2) 2px, transparent 2px),
        radial-gradient(var(--dot-3) 2px, transparent 2px);
      background-size: 30px 30px, 45px 45px, 60px 60px;
      background-position: 0 0, 10px 10px, 20px 20px;
      opacity:.4;
      z-index:0;
      pointer-events:none;
      filter: drop-shadow(0 0 2px rgba(255,255,255,.06));
    }
    body::before{ top:0; left:0; }
    body::after{ bottom:0; right:0; }

    .hidden{display:none !important}
    .center{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center; position:relative; z-index:1;}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
      padding:12px 28px;font-weight:600;cursor:pointer;border:none;
      background:var(--text);color:var(--bg);text-decoration:none;user-select:none;
      transition:filter .25s ease, transform .1s ease, background-color .25s ease, color .25s ease;
      box-shadow:0 10px 20px rgba(0,0,0,.3);
      flex-shrink:0; min-height: var(--tap); border-radius:12px;
    }
    .btn:hover{filter:brightness(1.05)}
    .btn:active{transform:scale(.98)}
    .btn.secondary{background:transparent;color:var(--text);outline:2px solid var(--text)}
    .btn.secondary::before{content:'\2190';font-size:1.2em}
    .btn.secondary:hover, .btn.secondary:focus{background:var(--text);color:var(--bg);filter:none}
    .btn.secondary:active{transform:scale(.98);background:var(--text);color:var(--bg)}
    #home h1{font-weight:600;font-size:clamp(36px,10vw,96px);letter-spacing:.5px;text-align:center;white-space:nowrap;overflow:hidden;border-right:.15em solid var(--text);width:0;animation: typing 2s steps(20,end) forwards, blink .75s step-end infinite;}
    #home p{margin-top:20px;font-size:clamp(14px,4vw,24px);opacity:0;transition:opacity 1s;max-width:90%}
    #home .btn{margin-top:28px;opacity:0;transition:opacity 1s}
    #select h2{font-size:clamp(20px,6vw,48px);margin-bottom:26px}

    /* EXACTLY two rows x three columns on larger screens */
    .moods{display:grid;grid-template-columns:repeat(3,minmax(120px,1fr));gap:20px;width:100%;max-width:720px}
    .mood{background: radial-gradient(circle at top left, var(--bg-2), var(--bg));padding:24px 12px;text-align:center;font-weight:600;font-size:clamp(14px,4vw,20px);cursor:pointer;transition:transform .25s, background .25s;box-shadow:0 10px 20px rgba(0,0,0,.3);border:none;color:var(--text);word-break:break-word; min-height: var(--tap); border-radius:12px;}
    .mood:hover{transform:translateY(-6px);background: radial-gradient(circle at top left, var(--dot-2), var(--bg-2));}

    #verse h3{font-size:clamp(20px,5vw,40px);margin-bottom:16px;max-width:90%}
    #verse .card{max-width:90%;padding:20px;text-align:center;line-height:1.6;background: rgba(255,255,255,.04);box-shadow:0 10px 20px rgba(0,0,0,.3);font-size:clamp(14px,4vw,20px); border-radius:12px}
    #verse .ref{display:block;margin-top:12px;opacity:.9;font-weight:600}
    #verse .actions{margin-top:26px;display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
    @keyframes typing{from{width:0}to{width:100%}}
    @keyframes blink{50%{border-color:transparent}}
  
    /* ===== Responsive tweaks for mobile ===== */
    body{ padding: max(16px, env(safe-area-inset-top)) max(16px, env(safe-area-inset-right)) max(16px, env(safe-area-inset-bottom)) max(16px, env(safe-area-inset-left)); }

    /* Grid adapts: 3 → 2 → 1 columns */
    @media (max-width: 820px){
      .moods{ grid-template-columns: repeat(2, minmax(140px, 1fr)); width: 100%; }
      .mood{ width: 100%; }
    }
    @media (max-width: 460px){
      .moods{ grid-template-columns: 1fr; }
    }

    /* Buttons stretch on small screens for easier taps */
    @media (max-width: 540px){
      .actions .btn, #select .btn{ width: 100%; }
      #home .btn{ width: 100%; }
    }

    /* Headline handling for tiny screens: avoid overflow from typing effect */
    @media (max-width: 420px){
      #home h1{
        border-right: none;
        white-space: normal;
        width: auto;
        animation: none;
        text-align: center;
      }
      #home p{ text-align:center }
    }

    /* Card padding scales down on small devices */
    @media (max-width: 540px){
      #verse .card{ padding:18px }
    }

    /* Reduce drop shadows slightly on mobile to improve legibility */
    @media (max-width: 540px){
      .btn, .mood, #verse .card{ box-shadow:0 6px 14px rgba(0,0,0,.28); }
    }
  </style>
</head>
<body>
  <section id="home" class="center" aria-label="Home">
    <h1>Moodies</h1>
    <p id="slogan">God’s Word for every mood.</p>
    <button id="start" class="btn">Get Started</button>
  </section>
  <section id="select" class="center hidden" aria-label="Select Mood">
    <h2>Select Your Mood</h2>
    <div class="moods" id="mood-grid"></div>
    <div style="margin-top:22px">
      <button class="btn secondary" id="back-to-home"> Back</button>
    </div>
  </section>
  <section id="verse" class="center hidden" aria-live="polite" aria-label="Verse">
    <h3 id="verse-title">Mood</h3>
    <div class="card">
      <div id="verse-text">Loading…</div>
      <span id="verse-ref" class="ref"></span>
    </div>
    <div class="actions">
      <button class="btn" id="refresh" title="Shuffle verse"><span aria-hidden="true"></span> Refresh Verse</button>
      <button class="btn secondary" id="back"> Back to Moods</button>
    </div>
  </section>
  <script>
    const views={home:document.getElementById('home'),select:document.getElementById('select'),verse:document.getElementById('verse')};
    function show(v){Object.values(views).forEach(s=>s.classList.add('hidden'));views[v].classList.remove('hidden');}
    window.addEventListener('load',()=>{setTimeout(()=>{document.getElementById('slogan').style.opacity='1';document.getElementById('start').style.opacity='1';},2200);});
    const MOODS=['Sad','Guilt','Anger','Happy','Tired','Anxiety'];
    const VERSES={
      Sad:[
        {t:"The Lord is close to the brokenhearted and saves those who are crushed in spirit.",r:"Psalm 34:18"},
        {t:"He heals the brokenhearted and binds up their wounds.",r:"Psalm 147:3"},
        {t:"In this world you will have trouble. But take heart! I have overcome the world.",r:"John 16:33"},
        {t:"Weeping may tarry for the night, but joy comes with the morning.",r:"Psalm 30:5"},
        {t:"Blessed are those who mourn, for they shall be comforted.",r:"Matthew 5:4"},
        {t:"Fear not, for I am with you; be not dismayed, for I am your God.",r:"Isaiah 41:10"},
        {t:"Cast your burden on the Lord, and he will sustain you.",r:"Psalm 55:22"},
        {t:"My flesh and my heart may fail, but God is the strength of my heart and my portion forever.",r:"Psalm 73:26"}
      ],
      Guilt:[
        {t:"If we confess our sins, he is faithful and just and will forgive us our sins and purify us from all unrighteousness.",r:"1 John 1:9"},
        {t:"There is now no condemnation for those who are in Christ Jesus.",r:"Romans 8:1"},
        {t:"Create in me a pure heart, O God, and renew a steadfast spirit within me.",r:"Psalm 51:10"},
        {t:"Though your sins are like scarlet, they shall be as white as snow.",r:"Isaiah 1:18"},
        {t:"For I will forgive their iniquity, and I will remember their sin no more.",r:"Jeremiah 31:34"},
        {t:"As far as the east is from the west, so far does he remove our transgressions from us.",r:"Psalm 103:12"},
        {t:"Repent, then, and turn to God, so that your sins may be wiped out.",r:"Acts 3:19"},
        {t:"Blessed is the one whose transgressions are forgiven, whose sins are covered.",r:"Psalm 32:1"}
      ],
      Anger:[
        {t:"Everyone should be quick to listen, slow to speak and slow to become angry, because human anger does not produce the righteousness that God desires.",r:"James 1:19–20"},
        {t:"A gentle answer turns away wrath, but a harsh word stirs up anger.",r:"Proverbs 15:1"},
        {t:"In your anger do not sin: Do not let the sun go down while you are still angry.",r:"Ephesians 4:26"},
        {t:"Do not be quickly provoked in your spirit, for anger resides in the lap of fools.",r:"Ecclesiastes 7:9"},
        {t:"Better a patient person than a warrior, one with self-control than one who takes a city.",r:"Proverbs 16:32"},
        {t:"Refrain from anger and turn from wrath; do not fret—it leads only to evil.",r:"Psalm 37:8"},
        {t:"Do not be overcome by evil, but overcome evil with good.",r:"Romans 12:21"},
        {t:"A hot-tempered person stirs up conflict, but the one who is patient calms a quarrel.",r:"Proverbs 15:18"}
      ],
      Happy:[
        {t:"Rejoice in the Lord always. I will say it again: Rejoice!",r:"Philippians 4:4"},
        {t:"This is the day that the Lord has made; let us rejoice and be glad in it.",r:"Psalm 118:24"},
        {t:"Every good and perfect gift is from above, coming down from the Father of the heavenly lights.",r:"James 1:17"},
        {t:"The joy of the Lord is your strength.",r:"Nehemiah 8:10"},
        {t:"I have told you this so that my joy may be in you and that your joy may be complete.",r:"John 15:11"},
        {t:"A cheerful heart is good medicine.",r:"Proverbs 17:22"},
        {t:"You make known to me the path of life; in your presence there is fullness of joy.",r:"Psalm 16:11"},
        {t:"Let the hearts of those who seek the Lord rejoice.",r:"1 Chronicles 16:10"}
      ],
      Tired:[
        {t:"Come to me, all you who are weary and burdened, and I will give you rest.",r:"Matthew 11:28"},
        {t:"Those who hope in the Lord will renew their strength. They will soar on wings like eagles.",r:"Isaiah 40:31"},
        {t:"Let us not become weary in doing good, for at the proper time we will reap a harvest if we do not give up.",r:"Galatians 6:9"},
        {t:"My presence will go with you, and I will give you rest.",r:"Exodus 33:14"},
        {t:"Come with me by yourselves to a quiet place and get some rest.",r:"Mark 6:31"},
        {t:"It is in vain that you rise up early and go late to rest… for he gives to his beloved sleep.",r:"Psalm 127:2"},
        {t:"The Lord is my shepherd; I shall not want. He makes me lie down in green pastures.",r:"Psalm 23:1–2"},
        {t:"I will refresh the weary and satisfy the faint.",r:"Jeremiah 31:25"}
      ],
      Anxiety:[
        {t:"Do not be anxious about anything, but in every situation, by prayer and petition, with thanksgiving, present your requests to God… and the peace of God… will guard your hearts and your minds in Christ Jesus.",r:"Philippians 4:6–7"},
        {t:"Cast all your anxiety on him because he cares for you.",r:"1 Peter 5:7"},
        {t:"Do not worry about tomorrow, for tomorrow will worry about itself.",r:"Matthew 6:34"},
        {t:"You will keep in perfect peace those whose minds are steadfast, because they trust in you.",r:"Isaiah 26:3"},
        {t:"When I am afraid, I put my trust in you.",r:"Psalm 56:3"},
        {t:"Peace I leave with you; my peace I give to you.",r:"John 14:27"},
        {t:"God is our refuge and strength, an ever-present help in trouble.",r:"Psalm 46:1"},
        {t:"Even though I walk through the darkest valley, I will fear no evil, for you are with me.",r:"Psalm 23:4"}
      ]
    };

    const grid=document.getElementById('mood-grid');
    MOODS.forEach(m=>{const el=document.createElement('button');el.className='mood';el.textContent=m;el.addEventListener('click',()=>openMood(m));grid.appendChild(el);});

    document.getElementById('start').addEventListener('click',()=>show('select'));
    document.getElementById('back-to-home').addEventListener('click',()=>show('home'));
    document.getElementById('back').addEventListener('click',()=>show('select'));

    let currentMood=null;let lastIndex=-1;
    function openMood(m){currentMood=m;lastIndex=-1;document.getElementById('verse-title').textContent=m;pickVerse();show('verse');}
    function pickVerse(){const list=VERSES[currentMood];if(!list||!list.length)return;let i=Math.floor(Math.random()*list.length);if(list.length>1){while(i===lastIndex)i=Math.floor(Math.random()*list.length);}lastIndex=i;const v=list[i];document.getElementById('verse-text').textContent='“'+v.t+'”';document.getElementById('verse-ref').textContent=v.r;}
    document.getElementById('refresh').addEventListener('click',pickVerse);
  </script>
</body>
</html>
